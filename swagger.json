{
    "swagger": "2.0",
    "info": {
        "description": "Hotel Booking API Service Documentation",
        "version": "3.0.0",
        "title": "API Documentation"
    },
    "schemes": [
        "http"
    ],
    "host": "localhost:3000",
    "basePath": "/",
    "paths": {
        "/api/hotelinfo/hotels": {
            "get": {
                "summary": "Fetches all the hotels in the database",
                "description": "Table: Hotels",
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Sucessfully received the list of hotels from the database",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "number",
                                        "description": "The unique identifier for the hotel"
                                    },
                                    "name": {
                                        "type": "string",
                                        "description": "The name of the hotel"
                                    },
                                    "phone_number": {
                                        "type": "number",
                                        "description": "The phone number of the hotel"
                                    },
                                    "email": {
                                        "type": "string",
                                        "description": "The email address of the hotel"
                                    },
                                    "website": {
                                        "type": "string",
                                        "description": "The website URL of the hotel"
                                    },
                                    "images": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        },
                                        "description": "An array of image URLs for the hotel"
                                    },
                                    "facilities": {
                                        "type": "string",
                                        "description": "The facilities available at the hotel"
                                    },
                                    "star_rating": {
                                        "type": "number",
                                        "description": "The star rating of the hotel"
                                    },
                                    "address": {
                                        "type": "string",
                                        "description": "The address of the hotel"
                                    },
                                    "city": {
                                        "type": "string",
                                        "description": "The city where the hotel is located"
                                    },
                                    "state": {
                                        "type": "string",
                                        "description": "The state where the hotel is located"
                                    },
                                    "country": {
                                        "type": "string",
                                        "description": "The country where the hotel is located"
                                    },
                                    "postal_code": {
                                        "type": "number",
                                        "description": "The postal code of the hotel"
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/hotelinfo/hotel": {
            "post": {
                "summary": "Create a new hotel in the database",
                "description": "Table: Hotels",
                "parameters": [
                    {
                        "name": "hotel",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "number",
                                    "description": "The unique identifier for the hotel (optional)"
                                },
                                "name": {
                                    "type": "string",
                                    "description": "The name of the hotel"
                                },
                                "phone_number": {
                                    "type": "number",
                                    "description": "The phone number of the hotel"
                                },
                                "email": {
                                    "type": "string",
                                    "description": "The email address of the hotel"
                                },
                                "website": {
                                    "type": "string",
                                    "description": "The website URL of the hotel"
                                },
                                "images": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    },
                                    "description": "An array of image URLs for the hotel"
                                },
                                "facilities": {
                                    "type": "string",
                                    "description": "The facilities available at the hotel"
                                },
                                "star_rating": {
                                    "type": "number",
                                    "description": "The star rating of the hotel"
                                },
                                "address": {
                                    "type": "string",
                                    "description": "The address of the hotel"
                                },
                                "city": {
                                    "type": "string",
                                    "description": "The city where the hotel is located"
                                },
                                "state": {
                                    "type": "string",
                                    "description": "The state where the hotel is located"
                                },
                                "country": {
                                    "type": "string",
                                    "description": "The country where the hotel is located"
                                },
                                "postal_code": {
                                    "type": "number",
                                    "description": "The postal code of the hotel"
                                },
                                "created_time": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "Timestamp indicating when the hotel was created (optional)"
                                },
                                "active": {
                                    "type": "number",
                                    "description": "A flag indicating whether the hotel is active (optional)"
                                }
                            }
                        }
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "201": {
                        "description": "Successfully created a new hotel",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "message": {
                                    "type": "string",
                                    "description": "A success message"
                                },
                                "hotel": {
                                    "type": "object",
                                    "description": "The created hotel object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad request. Invalid input data."
                    },
                    "500": {
                        "description": "Internal server error."
                    }
                }
            }
        },
        "/api/roominfo/room": {
            "post": {
                "summary": "Create a new room",
                "description": "Endpoint for creating a new room.",
                "parameters": [
                    {
                        "name": "room",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "number",
                                    "description": "The unique identifier for the room (optional)"
                                },
                                "hotel_id": {
                                    "type": "number",
                                    "description": "The ID of the hotel to which the room belongs",
                                    "required": true
                                },
                                "room_number": {
                                    "type": "number",
                                    "description": "The room number",
                                    "required": true
                                },
                                "room_type": {
                                    "type": "string",
                                    "description": "The type of the room",
                                    "required": true
                                },
                                "beds": {
                                    "type": "string",
                                    "description": "The type of beds in the room",
                                    "required": true
                                },
                                "occupancy": {
                                    "type": "number",
                                    "description": "The maximum occupancy of the room",
                                    "required": true
                                },
                                "description": {
                                    "type": "string",
                                    "description": "A description of the room"
                                },
                                "images": {
                                    "type": "array",
                                    "items": {
                                        "type": "string"
                                    },
                                    "description": "An array of image URLs for the room"
                                },
                                "price_per_night": {
                                    "type": "number",
                                    "description": "The price per night for the room",
                                    "required": true
                                },
                                "created_time": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "Timestamp indicating when the room was created (optional)"
                                },
                                "active": {
                                    "type": "number",
                                    "description": "A flag indicating whether the room is active (optional)"
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Room created successfully"
                    }
                }
            }
        },
        "/api/roominfo/rooms/{hotelid}": {
            "get": {
                "summary": "Fetch rooms by hotel ID",
                "description": "Retrieve a list of rooms for a specific hotel by providing the hotel's ID.",
                "parameters": [
                    {
                        "name": "hotelid",
                        "in": "path",
                        "description": "The ID of the hotel to retrieve rooms for.",
                        "required": true,
                        "type": "integer"
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successfully received the list of rooms for the specified hotel.",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "integer"
                                    },
                                    "hotel_id": {
                                        "type": "integer"
                                    },
                                    "room_number": {
                                        "type": "integer"
                                    },
                                    "room_type": {
                                        "type": "string"
                                    },
                                    "beds": {
                                        "type": "string"
                                    },
                                    "occupancy": {
                                        "type": "integer"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "images": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "price_per_night": {
                                        "type": "number"
                                    },
                                    "created_time": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "updated_time": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "active": {
                                        "type": "integer"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Hotel not found or no rooms available for the specified hotel."
                    }
                }
            }
        },
        "/api/roominfo/rooms": {
            "get": {
                "summary": "Fetch available rooms based on user options",
                "description": "Retrieve a list of available rooms based on user-selected options such as hotel ID, check-in date, check-out date, room type, occupancy, and price per night.",
                "parameters": [
                    {
                        "name": "hotel_id",
                        "in": "query",
                        "description": "The ID of the hotel for which available rooms are being retrieved.",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "name": "check_in_date",
                        "in": "query",
                        "description": "The check-in date in YYYY-MM-DD format.",
                        "required": true,
                        "type": "string",
                        "format": "date"
                    },
                    {
                        "name": "check_out_date",
                        "in": "query",
                        "description": "The check-out date in YYYY-MM-DD format.",
                        "required": true,
                        "type": "string",
                        "format": "date"
                    },
                    {
                        "name": "room_type",
                        "in": "query",
                        "description": "The type of room (optional). Example: standard, deluxe, suite",
                        "type": "string"
                    },
                    {
                        "name": "occupancy",
                        "in": "query",
                        "description": "The maximum occupancy of the room (optional).",
                        "type": "integer"
                    },
                    {
                        "name": "price_per_night",
                        "in": "query",
                        "description": "The maximum price per night for filtering available rooms (optional).",
                        "type": "number"
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successfully received the list of available rooms based on user options.",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "integer"
                                    },
                                    "hotel_id": {
                                        "type": "integer"
                                    },
                                    "room_number": {
                                        "type": "integer"
                                    },
                                    "room_type": {
                                        "type": "string"
                                    },
                                    "beds": {
                                        "type": "string"
                                    },
                                    "occupancy": {
                                        "type": "integer"
                                    },
                                    "description": {
                                        "type": "string"
                                    },
                                    "images": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    },
                                    "price_per_night": {
                                        "type": "number"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "No available rooms found based on the user's criteria."
                    }
                }
            }
        },
        "/api/bookinginfo/booking": {
            "post": {
                "summary": "Create a new booking.",
                "description": "Create a new booking with or without guest details.",
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "booking",
                        "description": "Booking information",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "id": {
                                    "type": "number",
                                    "description": "Unique identifier for the booking."
                                },
                                "room_id": {
                                    "type": "number",
                                    "description": "Identifier of the booked room.",
                                    "required": true
                                },
                                "guest_id": {
                                    "type": "number",
                                    "description": "Identifier of the guest. Set to null if guest details are provided.",
                                    "required": false
                                },
                                "check_in_date": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "Check-in date for the booking.",
                                    "required": true
                                },
                                "check_out_date": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "Check-out date for the booking.",
                                    "required": true
                                },
                                "booking_date": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "Date and time when the booking was made.",
                                    "required": true
                                },
                                "adults": {
                                    "type": "number",
                                    "description": "Number of adult guests.",
                                    "required": true
                                },
                                "childrens": {
                                    "type": "number",
                                    "description": "Number of child guests.",
                                    "required": true
                                },
                                "total_price": {
                                    "type": "number",
                                    "description": "Total price for the booking.",
                                    "required": true
                                },
                                "payment_status": {
                                    "type": "string",
                                    "enum": [
                                        "paid",
                                        "pending"
                                    ],
                                    "description": "Payment status for the booking. Must be 'paid' or 'pending'.",
                                    "required": true
                                },
                                "created_time": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "Timestamp indicating when the booking record was created.",
                                    "required": false
                                },
                                "active": {
                                    "type": "number",
                                    "enum": [
                                        0,
                                        1
                                    ],
                                    "description": "Flag indicating the booking's active status (0 for inactive, 1 for active).",
                                    "required": false
                                },
                                "guest_details": {
                                    "type": "object",
                                    "properties": {
                                        "first_name": {
                                            "type": "string",
                                            "description": "First name of the guest."
                                        },
                                        "last_name": {
                                            "type": "string",
                                            "description": "Last name of the guest."
                                        },
                                        "phone_number": {
                                            "type": "number",
                                            "description": "Phone number of the guest."
                                        },
                                        "email_id": {
                                            "type": "string",
                                            "description": "Email ID of the guest."
                                        },
                                        "date_of_birth": {
                                            "type": "string",
                                            "format": "date",
                                            "description": "Date of birth of the guest."
                                        },
                                        "address": {
                                            "type": "string",
                                            "description": "Address of the guest."
                                        },
                                        "city": {
                                            "type": "string",
                                            "description": "City of residence of the guest."
                                        },
                                        "state": {
                                            "type": "string",
                                            "description": "State of residence of the guest."
                                        },
                                        "country": {
                                            "type": "string",
                                            "description": "Country of residence of the guest."
                                        },
                                        "postal_code": {
                                            "type": "number",
                                            "description": "Postal code of the guest's address."
                                        },
                                        "passport_number": {
                                            "type": "string",
                                            "description": "Passport number of the guest."
                                        },
                                        "address_proof": {
                                            "type": "string",
                                            "description": "Address proof of the guest."
                                        }
                                    },
                                    "required": [
                                        "first_name",
                                        "phone_number",
                                        "email_id",
                                        "date_of_birth",
                                        "address",
                                        "city",
                                        "state",
                                        "country",
                                        "postal_code"
                                    ],
                                    "if": {
                                        "properties": {
                                            "guest_id": {
                                                "type": "number",
                                                "enum": [
                                                    null
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Booking created successfully."
                    },
                    "400": {
                        "description": "Bad request. Invalid input data."
                    }
                }
            },
            "put": {
                "summary": "Update booking information",
                "description": "Update booking information including check-in date, check-out date, booking date, number of adults, number of children, total price, payment status, and updated time.",
                "consumes": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "in": "body",
                        "name": "booking",
                        "description": "Updated booking information",
                        "required": true,
                        "schema": {
                            "type": "object",
                            "properties": {
                                "check_in_date": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "New check-in date for the booking."
                                },
                                "check_out_date": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "New check-out date for the booking."
                                },
                                "booking_date": {
                                    "type": "string",
                                    "format": "date",
                                    "description": "New booking date for the booking."
                                },
                                "adults": {
                                    "type": "number",
                                    "description": "New number of adult guests."
                                },
                                "childrens": {
                                    "type": "number",
                                    "description": "New number of child guests."
                                },
                                "total_price": {
                                    "type": "number",
                                    "description": "New total price for the booking."
                                },
                                "payment_status": {
                                    "type": "string",
                                    "enum": [
                                        "paid",
                                        "pending"
                                    ],
                                    "description": "New payment status for the booking. Must be 'paid' or 'pending'."
                                },
                                "updated_time": {
                                    "type": "string",
                                    "format": "date-time",
                                    "description": "New timestamp indicating when the booking information was updated."
                                }
                            },
                            "required": [
                                "check_in_date",
                                "check_out_date",
                                "booking_date",
                                "adults",
                                "childrens",
                                "total_price",
                                "payment_status",
                                "updated_time"
                            ]
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Booking information updated successfully."
                    },
                    "400": {
                        "description": "Bad request. Invalid input data."
                    }
                }
            },
            "delete": {
                "summary": "Cancel a booking",
                "description": "Cancel a booking by providing its ID and a cancellation reason.",
                "parameters": [
                    {
                        "in": "query",
                        "name": "id",
                        "description": "The ID of the booking to be deleted.",
                        "required": true,
                        "type": "integer"
                    },
                    {
                        "in": "query",
                        "name": "cancellation_reason",
                        "description": "The reason for cancellation of the booking.",
                        "required": true,
                        "type": "string"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Booking Cancelled successfully."
                    },
                    "400": {
                        "description": "Bad request. Invalid input data."
                    },
                    "404": {
                        "description": "Booking not found."
                    }
                }
            }
        },
        "/api/bookinginfo/booking/{id}": {
            "get": {
                "summary": "Fetch bookings by hotel ID",
                "description": "Retrieve a list of bookings for a specific hotel by providing the hotel's ID.",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "description": "The ID of the hotel to retrieve bookings for.",
                        "required": true,
                        "type": "integer"
                    }
                ],
                "produces": [
                    "application/json"
                ],
                "responses": {
                    "200": {
                        "description": "Successfully received the list of bookings for the specified hotel.",
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "integer"
                                    },
                                    "hotel_id": {
                                        "type": "integer"
                                    },
                                    "room_id": {
                                        "type": "integer"
                                    },
                                    "check_in_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "check_out_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "booking_date": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "adults": {
                                        "type": "number"
                                    },
                                    "childrens": {
                                        "type": "number"
                                    },
                                    "total_price": {
                                        "type": "number"
                                    },
                                    "payment_status": {
                                        "type": "string",
                                        "enum": [
                                            "paid",
                                            "pending"
                                        ]
                                    },
                                    "cancellation_reason": {
                                        "type": "string"
                                    },
                                    "created_time": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "updated_time": {
                                        "type": "string",
                                        "format": "date-time"
                                    },
                                    "active": {
                                        "type": "integer"
                                    },
                                    "guest_details": {
                                        "type": "object",
                                        "properties": {
                                            "first_name": {
                                                "type": "string"
                                            },
                                            "last_name": {
                                                "type": "string"
                                            },
                                            "phone_number": {
                                                "type": "number"
                                            },
                                            "email_id": {
                                                "type": "string"
                                            },
                                            "date_of_birth": {
                                                "type": "string",
                                                "format": "date"
                                            },
                                            "address": {
                                                "type": "string"
                                            },
                                            "city": {
                                                "type": "string"
                                            },
                                            "state": {
                                                "type": "string"
                                            },
                                            "country": {
                                                "type": "string"
                                            },
                                            "postal_code": {
                                                "type": "number"
                                            },
                                            "passport_number": {
                                                "type": "string"
                                            },
                                            "address_proof": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Hotel not found or no bookings available for the specified hotel."
                    }
                }
            }
        }
    }
}
